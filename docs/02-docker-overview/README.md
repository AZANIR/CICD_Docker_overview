# Docker Overview

## Зв'язок з тестуванням і CI/CD

Автоматизоване тестування та Continuous Integration (CI) стали стандартною частиною сучасного процесу розробки. **Docker** у пайплайнах CI/CD дає змогу запускати тести в **однаковому середовищі** на локальній машині, на сервері CI та на машині колеги — без зміни коду тестів. Цей розділ пояснює, що таке Docker, навіщо він тестувальнику і чим відрізняється від віртуальних машин.

---

## Що таке Docker (простими словами)

**Docker** — це інструмент для створення, розгортання та запуску програм у **контейнерах**.

**Контейнер** — це упаковане середовище, в якому є все необхідне для роботи програми: код, бібліотеки, залежності, налаштування. Аналогія: як посилка з товаром і інструкцією — відкриваєте в будь-якому місці і отримуєте однаковий результат.

**Чому це важливо для тестувальника:** на одному комп'ютері може стояти інша версія Node.js, браузера або ОС, ніж на сервері CI або на машині розробника. Тоді виникає ситуація «у мене працює, а в пайплайні — ні» (або навпаки). Docker дозволяє упакувати тести разом із потрібним середовищем у контейнер і запускати їх однаково скрізь: на вашому ноутбуці, на сервері CI/CD, у хмарі. Таким чином ви зменшуєте вплив різних налаштувань машини на результат тестів.

---

## Docker як ізольоване середовище

Docker дає змогу в ізольованому «контейнері» мати потрібну ОС (або її мінімальний набір), версію Node.js (або іншого рантайму), змінні оточення та залежності. Програма всередині контейнера не залежить від того, що встановлено на хост-машині: вона бачить лише те, що підготовлено в образі. Це і є **консистентність середовища** — однакові умови виконання незалежно від машини.

---

## Навіщо Docker саме для тестування

- **Консистентність середовища** — однакове середовище на вашому ПК, на CI-сервері та у колег. Менше ситуацій «у мене працює» через різні версії ОС, мови чи бібліотек.
- **Ізоляція залежностей** — різні проекти з різними версіями Node, Python тощо можуть співіснувати на одній машині в окремих контейнерах без конфліктів.
- **Швидке розгортання** — контейнери можна швидко створити і видалити. Зручно для автоматизованих тестів: підняли середовище → прогнали тести → знищили контейнер.
- **Відтворюваність тестів** — той самий образ дає той самий набір залежностей і ОС. Результати тестів стають передбачуваними і легше відтворюються при багах.
- **Тестування мікросервісів** — кожен сервіс може працювати у своєму контейнері; тести можна запускати в середовищі, близькому до реального.
- **Інтеграція з CI/CD** — Jenkins, GitLab CI, GitHub Actions тощо легко запускають тести в Docker-контейнерах як крок пайплайну.
- **Економія ресурсів** — порівняно з повноцінними віртуальними машинами контейнери зазвичай легші і швидше стартують, тому що використовують ядро ОС хоста.
- **Мобільність** — один і той самий образ можна переносити між локальною машиною, CI і хмарою.
- **Версіонування середовища** — образ можна зберігати під тегом (наприклад, версія), як код у репозиторії, і відновлювати потрібну конфігурацію при потребі.

---

## Docker і віртуальні машини (VM)

**Віртуалізація** — це спосіб поділити ресурси комп'ютера (CPU, пам'ять, диск, мережа) так, що вони виглядають як кілька окремих машин.

- **Віртуальна машина (VM)** віртуалізує **всю** машину: «залізо» + повноцінна ОС. Це важкий і повільний старт, але повна ізоляція.
- **Контейнер** віртуалізує лише **програмний рівень** над ядром ОС хоста: файлова система, процеси, мережа ізольовані, але ядро одне. Тому контейнери легші і швидші.

**Коротко:** VM = емуляція цілого комп'ютера; контейнер = ізольоване середовище для процесів на спільному ядрі ОС.

| Критерій | Контейнер | Віртуальна машина (VM) |
|----------|-----------|------------------------|
| Що віртуалізує | Програмний рівень над ядром ОС хоста | Цілу машину: «залізо» + повна ОС |
| Старт | Швидкий | Повільніший |
| Ресурси | Легші, спільне ядро | Важчі, окрема ОС |

---

## Контейнери: плюси і мінуси

Контейнери — це легкі пакети з усім необхідним для запуску програми (системні бібліотеки, залежності, код). Залежності всередині контейнера знаходяться вище рівня ядра ОС (бібліотеки, рантайми, ваш код).

**Плюси:**

- **Швидкість** — контейнери швидко створюються, змінюються і перезапускаються.
- **Готова екосистема** — публічні реєстри (наприклад, Docker Hub) містять готові образи (бази даних, веб-сервери тощо), які можна швидко використовувати.

**Мінуси:**

- **Спільний хост** — контейнери ділять ядро ОС і залізо. Теоретично вразливість в одному контейнері може вплинути на хост; на практиці це зменшують правильним налаштуванням і оновленнями.
- **Безпека образів** — публічні образи можуть містити застарілі або вразливі пакети. Краще використовувати офіційні або перевірені образи і регулярно оновлювати їх.

---

## Віртуальні машини: плюси і мінуси

Віртуальна машина — це повна емуляція «заліза» (CPU, диск, мережа) і окремої ОС. Разом це дає повноцінний знімок обчислювальної системи.

**Плюси:**

- **Сильна ізоляція** — одна VM не зачіпає інші на тому ж хості; зламана VM не виходить за межі своєї «машини».
- **Гнучкість** — можна вручну встановлювати ПЗ, робити снепшоти стану і відновлюватися з них.

**Мінуси:**

- **Повільний старт і зміни** — створення та зміна VM займає значно більше часу, ніж у контейнерів.
- **Об'єм** — образи VM часто займають багато гігабайт; потрібно враховувати місце на диску.

Для тестування в CI/CD і повсякденній автоматизації частіше використовують саме контейнери (Docker), а не VM.

---

## Провайдери контейнерів

- **Docker** — найпоширеніший рунтайм контейнерів. **Docker Hub** — публічний реєстр образів, звідти можна завантажувати готові образи (наприклад, Node, PostgreSQL) і пушити свої.
- **RKT** (вимовляється «ракета») — альтернативна контейнерна система з акцентом на безпеку; менш поширена в навчальних матеріалах.

Для початку достатньо розуміти Docker і Docker Hub.

---

## Що запам'ятати

- Docker дає однакове середовище для коду та тестів на будь-якій машині та в CI/CD.
- Контейнер — це легка упаковка з кодом і залежностями; VM — це повна віртуальна машина з власною ОС.
- Для тестувальника Docker корисний через консистентність, відтворюваність і інтеграцію з пайплайнами; варто враховувати безпеку образів і спільне ядро хоста при виборі стратегії.

---

## Приклади у цій папці

У підпапці [examples](./examples/) — базові команди Docker та приклад запуску контейнера (перевірка версії, `docker run hello-world`, перегляд контейнерів і образів).

Повний текст лекції: [prezentations/02_Docker_overview.md](../../prezentations/02_Docker_overview.md).
