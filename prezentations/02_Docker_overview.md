Docker overview

Автоматизоване тестування та Continuous Integration (CI) стали важливими компонентами процесу розробки та тестування в сучасному процесі розробки програмного забезпечення. Як наслідок, використання Docker у пайплайнах CI/CD стає все більш популярним, оскільки це дозволяє бездоганно інтегрувати автоматизоване тестування з рештою робочого процесу розробки.

Docker — це інструмент, призначений для полегшення створення, розгортання та запуску програм за допомогою контейнерів. Контейнери дозволяють розробнику упакувати програму з усіма потрібними частинами, наприклад бібліотеками та іншими залежностями, і відправити все як один пакет. Завдяки цьому контейнеру розробник може бути впевнений, що програма працюватиме на будь-якій іншій платформі - лептоп колеги який захоче використати тести в докері, сервер CІ/CD, віртуальна машина Linux. Простими словами - незалежно від будь-яких індивідуальних налаштувань лептопа, які можуть відрізнятися від лептопа, який використовувався для написання та тестування коду - ви можете запустити тести.



Docker — це програмне забезпечення, яке дає можливість ізольовано встановити необхідну ОС (операційну систему), версію JavaScript, налаштувати змінні оточення, встановити різні залежності і дати доступ тільки за певних умов. При цьому дану програму абсолютно не буде хвилювати, що відбувається навколо.


Docker є надзвичайно корисним інструментом у світі розробки програмного забезпечення, особливо коли йдеться про тестування. Ось кілька причин, чому Docker є важливим для тестування:

Консистентність середовища: Docker дозволяє розробникам та тестувальникам використовувати контейнери, що забезпечують однакове середовище на різних машинах. Це зменшує "воно працює у мене" проблеми, які часто виникають, коли код працює в одному середовищі, але збої виникають в іншому.
Ізоляція залежностей: Кожен Docker контейнер ізолює своє програмне середовище від інших. Це означає, що ви можете мати різні проекти з різними залежностями на одній і тій же машині без конфліктів.
Швидке розгортання: Docker контейнери можуть бути швидко розгорнуті та знищені, що робить їх ідеальними для автоматизованого тестування. Це дозволяє автоматично створювати та видаляти тестові середовища, не витрачаючи час на їх налаштування та очищення.
Відтворюваність тестів: З Docker, ви можете з легкістю відтворити тести, оскільки кожен контейнер може бути налаштований точно так, як на лептопі (середовищі автора) - тому що внутрішня структура (ОС, налаштування і версія ноди, залежності). Це означає, що результати тестів є більш надійними та повторюваними.
Підтримка мікросервісної архітектури: Docker особливо корисний для тестування мікросервісів, оскільки кожен мікросервіс може бути запущений у своєму власному контейнері, імітуючи реальні умови розгортання.
Інтеграція з CI/CD: Docker легко інтегрується з інструментами неперервної інтеграції та неперервного розгортання (CI/CD), такими як Jenkins, GitLab CI, Github Actions, що дозволяє автоматизувати процеси тестування та розгортання.
Економія ресурсів: Використання контейнерів може бути більш ефективним з точки зору ресурсів, ніж використання окремих віртуальних машин для кожного тестового середовища, оскільки контейнери ділять ядро ОС і значною мірою використовують менше ресурсів
Підвищена мобільність: Завдяки Docker, розробники та тестувальники можуть легко переміщати середовища між різними машинами та облачними платформами, що забезпечує гнучкість та мобільність проекту.
Контроль версій для середовищ: Docker дозволяє використовувати версіонування для середовищ, як і для коду. Це означає, що ви можете легко відстежувати зміни у середовищі та відновлювати попередні версії при потребі.
Завдяки цим перевагам, Docker є незамінним інструментом у сучасному процесі тестування та розробки програмного забезпечення.

Docker vs VM
Контейнери та віртуальні машини дуже схожі технології віртуалізації ресурсів. Віртуалізація — це процес, у якому окремий системний ресурс, як-от оперативна пам’ять, процесор, диск або мережа, може бути «віртуалізований» і представлений у вигляді кількох ресурсів. Ключова відмінність між контейнерами та віртуальними машинами полягає в тому, що віртуальні машини віртуалізують всю машину аж до апаратних рівнів, а контейнери віртуалізують лише програмні рівні вище рівня операційної системи.



Контейнери: плюси і мінуси
— це легкі програмні пакети, які містять усі залежності, необхідні для виконання програмного забезпечення, що міститься. Ці залежності включають такі речі, як системні бібліотеки, зовнішні сторонні пакети коду та інші програми рівня операційної системи. Залежності, включені в контейнер, існують на рівнях стеку, вищих за рівень операційної системи.

плюси:
Швидкість Оскільки контейнери легкі та включають лише програмне забезпечення високого рівня, їх дуже швидко модифікувати та повторювати. Надійна екосистема Більшість систем виконання контейнерів пропонують розміщене загальнодоступне сховище готових контейнерів. Ці сховища контейнерів містять багато популярних програмних програм, таких як бази даних або системи обміну повідомленнями, і їх можна миттєво завантажити та виконати, заощаджуючи час для команд розробників мінуси

Експлойти спільного хосту (shared host) Усі контейнери використовують ту саму базову апаратну систему нижче рівня операційної системи, можливо, експлойт в одному контейнері може вийти з контейнера та вплинути на спільне обладнання. Більшість популярних середовищ виконання контейнерів мають загальнодоступні сховища попередньо зібраних контейнерів. Використання одного з цих загальнодоступних зображень становить загрозу безпеці, оскільки вони можуть містити експлойти або можуть бути вразливими до викрадення зловмисниками.


Провайдери контейнерів
Docker є найпопулярнішим і широко використовуваним середовищем виконання контейнерів. Docker Hub — це гігантське загальнодоступне сховище популярних контейнерних програмних програм. Контейнери на Docker Hub можна миттєво завантажити та розгорнути в локальному середовищі виконання Docker.

RKT вимовляється як "Ракета", - це контейнерна система, орієнтована на безпеку. Контейнери RKT не дозволяють використовувати незахищені функції контейнера, якщо користувач явно не ввімкне незахищені функції. Контейнери RKT спрямовані на вирішення проблем безпеки, що лежать в основі перехресного зараження, через які страждають інші системи виконання контейнерів.


Віртуальні машини: плюси і мінуси
— це важкі пакети програмного забезпечення, які забезпечують повну емуляцію апаратних пристроїв низького рівня, таких як центральний процесор, дискові та мережеві пристрої. Віртуальні машини також можуть містити стек додаткового програмного забезпечення для роботи на емульованому обладнанні. Ці апаратні та програмні пакети разом створюють повністю функціональний знімок обчислювальної системи.

плюси:
Повна безпека ізоляції Віртуальні машини працюють ізольовано як повністю автономна система. Це означає, що віртуальні машини захищені від будь-яких експлойтів або втручання з боку інших віртуальних машин на спільному хості. Окрема віртуальна машина все ще може бути захоплена експлойтом, але експлойтована віртуальна машина буде ізольованою та не зможе заразити будь-які інші сусідні віртуальні машини.

Інтерактивний інтерфейс Контейнери зазвичай є статичними визначеннями очікуваних залежностей і конфігурації, необхідних для запуску контейнера. Віртуальні машини є більш динамічними і їх можна розробляти в інтерактивному режимі. Після визначення базового апаратного забезпечення для віртуальної машини віртуальну машину можна розглядати як комп’ютер із основою комп’ютера. Програмне забезпечення можна вручну встановити на віртуальну машину, а віртуальну машину можна зробити снепшот, щоб зафіксувати поточний стан конфігурації. Снепшоти віртуальної машини можна використовувати для відновлення віртуальної машини до того моменту часу або запуску додаткових віртуальних машин із такою конфігурацією.

мінуси:
Швидкість Створення та відновлення віртуальних машин вимагає багато часу, оскільки вони охоплюють систему повного стеку. Будь-які модифікації імейджу віртуальної машини можуть зайняти значний час, щоб відновити та перевірити, чи вони поводяться належним чином.

Обсяг памʼяті для зберігання Віртуальні машини можуть займати багато місця для зберігання. Вони можуть швидко зрости до кількох гігабайт. Це може призвести до проблем з нестачею дискового простору на хост-машині віртуальних машин.

Провайдери віртуальних машин


Virtualbox — це безкоштовна система емуляції архітектури x86 з відкритим кодом, що належить Oracle. Virtualbox — одна з найпопулярніших і визнаних платформ віртуальних машин з екосистемою додаткових інструментів, які допомагають розробляти та розповсюджувати образи віртуальних машин. 



VMware — публічна компанія, яка побудувала свій бізнес на одній із перших технологій апаратної віртуалізації x86. VMware поставляється з гіпервізором, який є утилітою, яка розгортає та керує кількома віртуальними машинами. VMware має надійний інтерфейс користувача для керування віртуальними машинами. VMware — чудовий варіант корпоративної віртуальної машини, який пропонує підтримку.